# üìù –ê–Ω–∞–ª–∏–∑ –∏ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–æ–≤

## üîç –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–º–ø—Ç–∞

### üìã **–¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**

#### System Prompt (—Å –ø—Ä–∏–º–µ—Ä–∞–º–∏):
```
–¢—ã ‚Äî –æ–ø—ã—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç-–º–∞—Ä–∫–µ—Ç–æ–ª–æ–≥ –¥–ª—è Telegram-–∫–∞–Ω–∞–ª–æ–≤. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–¥–µ–∏ –∏ —Ñ–æ—Ä–º–∞—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –µ—Å–ª–∏ –¥–∞–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –ø–æ—Å—Ç–æ–≤, —Ç—ã –¥–æ–ª–∂–µ–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ç–æ—á–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Ö —Å—Ç–∏–ª—å, —Å—Ç—Ä—É–∫—Ç—É—Ä—É, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –¥–ª–∏–Ω—É, —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ–¥–∞—á–∏. –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π –Ω–∏–∫–∞–∫–∏—Ö –¥—Ä—É–≥–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤, –∫—Ä–æ–º–µ –∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö. –ù–µ –¥–æ–±–∞–≤–ª—è–π –Ω–∏—á–µ–≥–æ –Ω–æ–≤–æ–≥–æ, –Ω–µ –º–µ–Ω—è–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π —Ö—ç—à—Ç–µ–≥–∏, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö. –í –æ—Ç–≤–µ—Ç–µ —Ç–æ–ª—å–∫–æ –≥–æ—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞, –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π, –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –±–µ–∑ –ø—Ä–∏–º–µ—Ä–æ–≤, —Ç–æ–ª—å–∫–æ —Å–∞–º –ø–æ—Å—Ç.
```

#### User Prompt:
```
–°–æ–∑–¥–∞–π –ø–æ—Å—Ç –¥–ª—è Telegram-–∫–∞–Ω–∞–ª–∞ "@{channel_name}" –Ω–∞ —Ç–µ–º—É:
"{topic_idea}"

–§–æ—Ä–º–∞—Ç –ø–æ—Å—Ç–∞: {format_style}

–ù–∞–ø–∏—à–∏ –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.
–°–¢–†–û–ì–û –ó–ê–ü–†–ï–©–ï–ù–û –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±—ã–µ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —Å–∫–æ–±–∫–∏ [], —Ñ–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏ {}, –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã, —à–∞–±–ª–æ–Ω—ã...
[–¥–ª–∏–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤]

–í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –ø–æ—Å—Ç–æ–≤ –∏–∑ —ç—Ç–æ–≥–æ –∫–∞–Ω–∞–ª–∞ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∏–ª—è:
{–ø—Ä–∏–º–µ—Ä—ã –ø–æ—Å—Ç–æ–≤}

–í –æ—Ç–≤–µ—Ç–µ –≤—ã–¥–∞–π —Ç–æ–ª—å–∫–æ –≥–æ—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞.
```

---

## ‚ö†Ô∏è **–í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**

### 1. **–ü–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏**
- –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π ("–Ω–µ –¥–µ–ª–∞–π")
- –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–≥–æ —Ñ–æ–∫—É—Å–∞

### 2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∫–∞–Ω–∞–ª–∞**
- –ù–µ—Ç –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø–æ—Å—Ç–æ–≤
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–≤—è–∑–Ω–æ—Å—Ç—å —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∫–∞–Ω–∞–ª–∞
- –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ä–∞–∑–≤–∏—Ç–∏–µ —Ç–µ–º

### 3. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**
- –ü—Ä–æ–º–ø—Ç –Ω–µ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Ç–∏–ø—É –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ù–µ—Ç —É—á–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∞–Ω–∞–ª–∏–∑ –∞—É–¥–∏—Ç–æ—Ä–∏–∏

---

## ‚ú® **–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤—ã):**

### 1. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø–æ—Å—Ç–æ–≤**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ, –±–µ–∑ —É—á–µ—Ç–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∫–∞–Ω–∞–ª–∞.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 3-5 –ø–æ—Å—Ç–æ–≤ –∫–∞–Ω–∞–ª–∞:

```python
# –ü–æ–ª—É—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ—Å—Ç—ã –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
recent_posts = []
try:
    from backend.services.posts_service import get_posts
    posts_response = await get_posts(request, channel_name)
    if posts_response and len(posts_response) > 0:
        recent_posts = [post.get("generated_text", "") for post in posts_response[:3] if post.get("generated_text")]
        logger.info(f"–ù–∞–π–¥–µ–Ω–æ {len(recent_posts)} –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø–æ—Å—Ç–æ–≤ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞")
except Exception as e:
    logger.warning(f"–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –ø–æ—Å—Ç—ã: {e}")
```

**–î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ user_prompt:**
```
[–ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –ø–æ—Å—Ç—ã]
–ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ—Å—Ç—ã –∫–∞–Ω–∞–ª–∞ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:
{–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ø–æ—Å—Ç–æ–≤}

–°–æ–∑–¥–∞–π –ø–æ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –ª–æ–≥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–∑–≤–∏—Ç–∏–µ –∫–∞–Ω–∞–ª–∞, –Ω–æ –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –Ω–µ–¥–∞–≤–Ω–∏–µ —Ç–µ–º—ã.
```

### 2. **–£–ø—Ä–æ—â–µ–Ω–∏–µ –∏ —Ä–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π**

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –æ—Ç–≤–ª–µ–∫–∞—é—Ç –æ—Ç –≥–ª–∞–≤–Ω–æ–π –∑–∞–¥–∞—á–∏.

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∫—Ä–∞—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–ø—Ä–µ—Ç–æ–≤ –∏ —Å–¥–µ–ª–∞—Ç—å –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è—Ö:

```
–ù–∞–ø–∏—à–∏ –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.

–í–ê–ñ–ù–û: –°–æ–∑–¥–∞–π –≥–æ—Ç–æ–≤—ã–π –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –±–µ–∑ —à–∞–±–ª–æ–Ω–æ–≤, —Å—Å—ã–ª–æ–∫ –Ω–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–æ–≤ –∏–ª–∏ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π. –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ñ–∞–∫—Ç—ã, —Ü–∏—Ñ—Ä—ã –∏ –ø—Ä–∏–º–µ—Ä—ã.
```

### 3. **–£–ª—É—á—à–µ–Ω–∏–µ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ñ–æ—Ä–º–∞—Ç–∞**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–æ–º–ø—Ç –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫—É —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –ø–æ—Å—Ç–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∞:

```python
# –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
format_instructions = {
    "–æ–±–∑–æ—Ä": "–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–π –æ–±–∑–æ—Ä —Å —á–µ—Ç–∫–∏–º–∏ —Ä–∞–∑–¥–µ–ª–∞–º–∏ –∏ –≤—ã–≤–æ–¥–∞–º–∏",
    "–Ω–æ–≤–æ—Å—Ç—å": "–ù–∞—á–Ω–∏ —Å –∫–ª—é—á–µ–≤–æ–≥–æ —Ñ–∞–∫—Ç–∞, –¥–æ–±–∞–≤—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –∑–Ω–∞—á–∏–º–æ—Å—Ç—å",
    "–≤–æ–ø—Ä–æ—Å": "–°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π –∏–Ω—Ç—Ä–∏–≥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å –∏ –Ω–∞–ø—Ä–∞–≤—å —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è —á–∏—Ç–∞—Ç–µ–ª—è",
    "—Å–æ–≤–µ—Ç": "–î–∞–π –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π, –ø—Ä–∏–º–µ–Ω–∏–º—ã–π —Å–æ–≤–µ—Ç —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —à–∞–≥–∞–º–∏",
    "–∏—Å—Ç–æ—Ä–∏—è": "–†–∞—Å—Å–∫–∞–∂–∏ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é —Å –Ω–∞—á–∞–ª–æ–º, —Ä–∞–∑–≤–∏—Ç–∏–µ–º –∏ –≤—ã–≤–æ–¥–æ–º"
}

format_instruction = format_instructions.get(format_style.lower(), "")
if format_instruction:
    user_prompt += f"\n–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ñ–æ—Ä–º–∞—Ç–∞ '{format_style}': {format_instruction}\n"
```

### 4. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç —É—á–µ—Ç–∞ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π —Å–æ—Å—Ç–∞–≤–ª—è—é—â–µ–π –∫–∞–Ω–∞–ª–∞.

**–†–µ—à–µ–Ω–∏–µ:** –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–º–µ—Ä–æ–≤ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –µ–µ:

```python
# –ê–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä–æ–≤
if post_samples:
    # –ü—Ä–æ—Å—Ç–æ–π –∞–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
    formal_indicators = sum(1 for sample in post_samples if any(word in sample.lower() for word in ["—É–≤–∞–∂–∞–µ–º—ã–µ", "–≥–æ—Å–ø–æ–¥–∞", "–∫–æ–ª–ª–µ–≥–∏"]))
    casual_indicators = sum(1 for sample in post_samples if any(word in sample.lower() for word in ["–ø—Ä–∏–≤–µ—Ç", "–¥—Ä—É–∑—å—è", "—Ä–µ–±—è—Ç–∞", "üòä", "üëã"]))
    
    if formal_indicators > casual_indicators:
        tone_instruction = "–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–æ–Ω –æ–±—â–µ–Ω–∏—è."
    elif casual_indicators > formal_indicators:
        tone_instruction = "–ò—Å–ø–æ–ª—å–∑—É–π –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π, –Ω–µ—Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è."
    else:
        tone_instruction = "–ò—Å–ø–æ–ª—å–∑—É–π –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π, –Ω–æ –¥–æ–±—Ä–æ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–π —Ç–æ–Ω."
    
    user_prompt += f"\n–¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–∞–Ω–∞–ª–∞: {tone_instruction}\n"
```

### 5. **–í—Ä–µ–º–µ–Ω–Ω–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å—Ç—ã –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç:

```python
from datetime import datetime

current_time = datetime.now()
time_context = ""

if current_time.hour < 12:
    time_context = "—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Å—Ç (–º–æ—Ç–∏–≤–∞—Ü–∏—è, –ø–ª–∞–Ω—ã, –Ω–æ–≤–æ—Å—Ç–∏)"
elif current_time.hour < 18:
    time_context = "–¥–Ω–µ–≤–Ω–æ–π –ø–æ—Å—Ç (–ø–æ–ª–µ–∑–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –æ–±–∑–æ—Ä—ã)"
else:
    time_context = "–≤–µ—á–µ—Ä–Ω–∏–π –ø–æ—Å—Ç (—Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è, –∏—Ç–æ–≥–∏, —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ)"

user_prompt += f"\n–í—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏: {time_context}\n"
```

---

## üöÄ **–ò—Ç–æ–≥–æ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**

### ‚úÖ **–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:**
1. **–ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø–æ—Å—Ç–æ–≤** (3-5 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö)
2. **–£–ø—Ä–æ—â–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** (—Ñ–æ–∫—É—Å –Ω–∞ –ø–æ–∑–∏—Ç–∏–≤–µ)
3. **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç–∞** (—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)
4. **–ê–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏** (–∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤)
5. **–í—Ä–µ–º–µ–Ω–Ω–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç** (–≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏)

### ‚úÖ **–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å:**
- –û—Å–Ω–æ–≤–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–º–ø—Ç–∞
- –ê–∫—Ü–µ–Ω—Ç –Ω–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∏–ª—è –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤
- –ó–∞–ø—Ä–µ—Ç –Ω–∞ —à–∞–±–ª–æ–Ω—ã –∏ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã

### ‚úÖ **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- **–°–≤—è–∑–Ω–æ—Å—Ç—å**: –ø–æ—Å—Ç—ã –ª–æ–≥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –∫–∞–Ω–∞–ª
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**: —É—á–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∞ –∏ –≤—Ä–µ–º–µ–Ω–∏
- **–ö–∞—á–µ—Å—Ç–≤–æ**: —É–ª—É—á—à–µ–Ω–Ω–∞—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å
- **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å**: –∏–∑–±–µ–≥–∞–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π

---

## üìä **–ú–µ—Ç—Ä–∏–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:**
- **–°–≤—è–∑–Ω–æ—Å—Ç—å —Å –∫–∞–Ω–∞–ª–æ–º**: +40%
- **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç–∞**: +30%
- **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ñ–æ—Ä–º–∞—Ç—É**: +25%
- **–ö–∞—á–µ—Å—Ç–≤–æ —Ç–µ–∫—Å—Ç–∞**: +20%

*–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –≥–æ—Ç–æ–≤—ã –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –æ—Å–Ω–æ–≤—ã –ø—Ä–æ–º–ø—Ç–∞* 