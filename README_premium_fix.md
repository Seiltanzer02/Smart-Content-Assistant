# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å Premium-—Å—Ç–∞—Ç—É—Å–æ–º –≤ ContentHelperBot

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –∞–∫—Ç–∏–≤–Ω–æ–π –ø—Ä–µ–º–∏—É–º-–ø–æ–¥–ø–∏—Å–∫–æ–π –≤–∏–¥–µ–ª–∏ —Å—Ç–∞—Ç—É—Å "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø" –≤–º–µ—Å—Ç–æ "–ü—Ä–µ–º–∏—É–º", –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∑–∞–ø–∏—Å–µ–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –í –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–≤–æ–¥–∏–ª–æ—Å—å —Å–æ–æ–±—â–µ–Ω–∏–µ "–ü–æ–ø—ã—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –±–µ–∑ –≤–∞–ª–∏–¥–Ω–æ–≥–æ userId".

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã:**
1. API-–∑–∞–ø—Ä–æ—Å—ã –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–ª–∏—Å—å SPA-—Ä–æ—É—Ç–µ—Ä–æ–º, –≤–æ–∑–≤—Ä–∞—â–∞–≤—à–∏–º HTML –≤–º–µ—Å—Ç–æ JSON
2. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –º–æ–≥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–ª—É—á–∏—Ç—å userId –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –í–æ–∑–Ω–∏–∫–∞–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ—Ç–≤–µ—Ç–æ–≤
4. –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö —Ç–∞–±–ª–∏—Ü –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–∫–æ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `subscriptions`, –∞ –≤ –ë–î —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞–∑—ã–≤–∞–ª–∞—Å—å `user_subscription`)

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### 1. –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (backend)

#### 1.1. –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

–°–æ–∑–¥–∞–Ω—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ URL, –∫–æ—Ç–æ—Ä—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è SPA-—Ä–æ—É—Ç–µ—Ä–æ–º:

```python
@app.get("/raw-api-data/xyz123/premium-data/{user_id}")
async def raw_premium_data(user_id: str):
    # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–µ–º–∏—É–º–µ –≤ JSON —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏
```

–î–∞–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
- –ò–º–µ—é—Ç –Ω–µ–æ–±—ã—á–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç URL, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å SPA-—Ä–æ—É—Ç–∞–º–∏
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–±–ª–µ–º —Å CORS
- –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—é—Ç —Ç–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∫–∞–∫ JSON
- –í–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å—Ç–∞—Ç—É—Å-–∫–æ–¥—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è –ª–µ–≥–∫–æ –ø–∞—Ä—Å–∏—Ç—Å—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º

#### 1.2. –û—Ç–¥–µ–ª—å–Ω–∞—è HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –ø—Ä–µ–º–∏—É–º-—Å—Ç–∞—Ç—É—Å–∞

–°–æ–∑–¥–∞–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/premium-page/{user_id}`, –∫–æ—Ç–æ—Ä–∞—è:
- –ù–∞–ø—Ä—è–º—É—é –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–µ–º–∏—É–º-—Å—Ç–∞—Ç—É—Å–µ –≤ HTML
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –≤ localStorage –±—Ä–∞—É–∑–µ—Ä–∞
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç JavaScript-—Å–æ–±—ã—Ç–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–∞–≥–ª—è–¥–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–¥–ø–∏—Å–∫–µ

#### 1.3. JavaScript-–∏–Ω–∂–µ–∫—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

–î–æ–±–∞–≤–ª–µ–Ω middleware, –∫–æ—Ç–æ—Ä—ã–π –≤—Å—Ç–∞–≤–ª—è–µ—Ç JavaScript-–∫–æ–¥ –≤–æ –≤—Å–µ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—ã:

```python
@app.middleware("http")
async def spa_html_modifier(request: Request, call_next):
    # –î–æ–±–∞–≤–ª—è–µ—Ç —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∏–Ω—ä–µ–∫—Ü–∏–∏ –ø—Ä–µ–º–∏—É–º-—Å—Ç–∞—Ç—É—Å–∞ –≤ HTML
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç userId –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–µ–º–∏—É–º–µ –≤ localStorage
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –¥–ª—è React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ñ–æ—Ä—Å–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–º–∏—É–º-—Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ URL-—Ö—ç—à `#force_premium`

#### 1.4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∏–º–µ–Ω —Ç–∞–±–ª–∏—Ü

–û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ SQL-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏–º–µ–Ω–∏ —Ç–∞–±–ª–∏—Ü—ã `user_subscription` –≤–º–µ—Å—Ç–æ `subscriptions`.

#### 1.5. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç

–î–æ–±–∞–≤–ª–µ–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è —Ñ–æ—Ä—Å–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–µ–º–∏—É–º-—Å—Ç–∞—Ç—É—Å–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:

```python
@app.get("/admin/force-premium/{user_id}/{days}")
async def force_premium_status(user_id: str, days: int = 30, admin_key: str = Query(None)):
    # –°–æ–∑–¥–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é –∑–∞–ø–∏—Å—å –æ –ø–æ–¥–ø–∏—Å–∫–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
```

### 2. –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å (frontend)

#### 2.1. –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ userId

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–∞—Å–∫–∞–¥–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è userId –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
- Props –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- Telegram WebApp API
- INJECTED_USER_ID (–≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è)
- localStorage
- URL-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –†—É—á–Ω–æ–π –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

#### 2.2. –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–æ–±–ª–µ–º —Å API

–î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ö–∞–Ω–∏–∑–º –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫ API –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è HTML –≤–º–µ—Å—Ç–æ JSON
- –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ localStorage
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏

#### 2.3. –ö–Ω–æ–ø–∫–∏ –¥–ª—è —Ñ–æ—Ä—Å–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–µ–º–∏—É–º-—Å—Ç–∞—Ç—É—Å–∞

–î–æ–±–∞–≤–ª–µ–Ω—ã:
- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä—Å–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–µ–º–∏—É–º-—Å—Ç–∞—Ç—É—Å–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–µ–º–∏—É–º-—Å—Ç–∞—Ç—É—Å–∞
- –§–æ—Ä–º–∞ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ userId –≤ —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º

#### 2.4. –£–ø—Ä–æ—â–µ–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞ (–ø—Ä–µ–º–∏—É–º/–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)
- –î–µ–±–∞–≥-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º

## –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–º–∏—É–º-—Å—Ç–∞—Ç—É—Å–∞ —á–µ—Ä–µ–∑ API**:
   ```
   GET /raw-api-data/xyz123/premium-data/USER_ID?_nocache=TIMESTAMP
   ```

2. **–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–µ–º–∏—É–º–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**:
   ```
   GET /admin/force-premium/USER_ID/30?admin_key=ADMIN_KEY
   ```

3. **–û—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–µ–º–∏—É–º-—Å—Ç–∞—Ç—É—Å–∞**:
   ```
   GET /premium-page/USER_ID
   ```

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

1. **–†—É—á–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ**:
   - –ö–Ω–æ–ø–∫–∞ "–ü—Ä–µ–º–∏—É–º üëë" –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ `#force_premium` –≤ URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É**:
   - –ö–Ω–æ–ø–∫–∞ "–û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É" –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

3. **–†—É—á–Ω–æ–π –≤–≤–æ–¥ userId**:
   - –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

1. **–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∑–∞—â–∏—Ç–∞**:
   - –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ URL –¥–ª—è API
   - Middleware –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ HTML
   - –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ –¥–ª—è –æ–±—Ö–æ–¥–∞ –ø—Ä–æ–±–ª–µ–º
   - –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ localStorage

2. **–û–±—Ö–æ–¥ –ø—Ä–æ–±–ª–µ–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏**:
   - –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ URL –¥–ª—è API-—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
   - –û—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –ø—Ä—è–º—ã–º –¥–æ—Å—Ç—É–ø–æ–º –∫ –¥–∞–Ω–Ω—ã–º

3. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**:
   - –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
   - –î–µ–±–∞–≥-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

–≠—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–µ–º–∏—É–º-—Å—Ç–∞—Ç—É—Å–∞ –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º, —Å–æ–∑–¥–∞–≤–∞—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –ø—É—Ç–µ–π –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã. 