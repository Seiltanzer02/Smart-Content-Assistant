# üìè –£–õ–£–ß–®–ï–ù–ò–ï –°–¢–†–£–ö–¢–£–†–´ –ü–û–°–¢–û–í: –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ

## ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:**
–î–ª–∏–Ω–∞ –ø–æ—Å—Ç–æ–≤ –∏ —Å—Ç–∏–ª—å –Ω–∞–ø–∏—Å–∞–Ω–∏—è (–∞–±–∑–∞—Ü—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ–∫—Å—Ç–∞) –Ω–µ –ø–æ—Ö–æ–∂–∏ –Ω–∞ —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –Ω–∞ –∫–∞–Ω–∞–ª–µ.

## ‚úÖ **–†–µ—à–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –∫–æ–¥–µ:**

### 1. **–ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ—Å—Ç–æ–≤**
–í –∫–æ–¥–µ –¥–æ–±–∞–≤–ª–µ–Ω —Ä–∞—Å—á–µ—Ç:
```python
# –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ—Å—Ç–æ–≤
avg_length = sum(len(post) for post in post_samples) // len(post_samples)
avg_paragraphs = sum(post.count('\n\n') + 1 for post in post_samples) // len(post_samples)
avg_sentences = sum(post.count('.') + post.count('!') + post.count('?') for post in post_samples) // len(post_samples)

structure_instruction = f"\n–°–¢–†–£–ö–¢–£–†–ê –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤: —Å—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞ –ø–æ—Å—Ç–∞ ~{avg_length} —Å–∏–º–≤–æ–ª–æ–≤, ~{avg_paragraphs} –∞–±–∑–∞—Ü–µ–≤, ~{avg_sentences} –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π. –°–¢–†–û–ì–û —Å–ª–µ–¥—É–π —ç—Ç–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ!"
```

### 2. **–£—Å–∏–ª–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ system_prompt**
```
–°–¢–†–£–ö–¢–£–†–ê –ò –î–õ–ò–ù–ê:
‚Ä¢ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –¥–ª–∏–Ω—É –ø—Ä–∏–º–µ—Ä–æ–≤ –ø–æ—Å—Ç–æ–≤ –∏ —Å–æ–∑–¥–∞–≤–∞–π –ø–æ—Å—Ç –¢–û–ß–ù–û —Ç–∞–∫–æ–π –∂–µ –¥–ª–∏–Ω—ã (¬±10%)
‚Ä¢ –ö–æ–ø–∏—Ä—É–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–±–∑–∞—Ü–µ–≤ –∏ –∏—Ö —Ä–∞–∑–º–µ—Ä –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤
‚Ä¢ –°–æ—Ö—Ä–∞–Ω—è–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É: –µ—Å–ª–∏ –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö –∫–æ—Ä–æ—Ç–∫–∏–µ –∞–±–∑–∞—Ü—ã ‚Äî –¥–µ–ª–∞–π –∫–æ—Ä–æ—Ç–∫–∏–µ, –µ—Å–ª–∏ –¥–ª–∏–Ω–Ω—ã–µ ‚Äî –¥–µ–ª–∞–π –¥–ª–∏–Ω–Ω—ã–µ
‚Ä¢ –ü–æ–≤—Ç–æ—Ä—è–π —Å—Ç–∏–ª—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–∞ –∞–±–∑–∞—Ü—ã (–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞, –¥–≤–æ–π–Ω–æ–π –ø–µ—Ä–µ–Ω–æ—Å –∏ —Ç.–¥.)
‚Ä¢ –ï—Å–ª–∏ –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö –ø–æ—Å—Ç—ã –ø–æ 3-5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π ‚Äî –ø–∏—à–∏ —Å—Ç–æ–ª—å–∫–æ –∂–µ, –µ—Å–ª–∏ –ø–æ 10-15 ‚Äî —Å–ª–µ–¥—É–π —ç—Ç–æ–º—É
```

### 3. **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤**
```python
# –†–∞—Å—á–µ—Ç —Å—Ä–µ–¥–Ω–µ–π –¥–ª–∏–Ω—ã –ø–æ—Å—Ç–æ–≤
if post_samples:
    avg_length = int(sum(len(t) for t in post_samples) / len(post_samples))
    avg_tokens = max(100, min(1200, avg_length // 3))
else:
    avg_tokens = 600
```

## üéØ **–ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç:**

1. **–¢–æ—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–ª–∏–Ω–µ** - –ø–æ—Å—Ç—ã –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Ç–æ–π –∂–µ –¥–ª–∏–Ω—ã, —á—Ç–æ –∏ –Ω–∞ –∫–∞–Ω–∞–ª–µ
2. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–±–∑–∞—Ü–µ–≤ –∏ –∏—Ö —Ä–∞–∑–º–µ—Ä –±—É–¥—É—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä–∞–º
3. **–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å—Ç–∏–ª—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∞–±–∑–∞—Ü–µ–≤ –±—É–¥–µ—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤

## ‚ö° **–í–∞–∂–Ω–æ:**
–î–ª—è —Ä–∞–±–æ—Ç—ã —ç—Ç–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —á—Ç–æ–±—ã –≤ system_prompt –¥–æ–±–∞–≤–ª—è–ª–∞—Å—å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `{structure_instruction}` –ø–æ—Å–ª–µ `{tone_instruction}`. 

–í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `structure_instruction` —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è, –Ω–æ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –≤ –æ–±–∞ –º–µ—Å—Ç–∞ –≥–¥–µ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è system_prompt:

1. –ü–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ —Å `{tone_instruction}` (—Å—Ç—Ä–æ–∫–∞ ~453)
2. –ü–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ —Å `{tone_instruction}` (—Å—Ç—Ä–æ–∫–∞ ~465)

–î–æ–±–∞–≤–∏—Ç—å:
```
{structure_instruction}
``` 