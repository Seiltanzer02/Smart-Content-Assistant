# Content Manager

Сервис для управления контентом и автоматизации создания постов.

## Обновление системы подписок

В проект были внесены следующие улучшения:

### Бэкенд
- Создан новый сервис `SupabaseSubscriptionService` для работы с подписками
- Исправлены ошибки в проверке лимитов использования
- Добавлены эндпоинты для проверки статуса подписки и активации подписки
- Реализован механизм сброса счетчиков использования ежемесячно
- Обновлены эндпоинты анализа и генерации постов для корректной работы с подписками
- Добавлен глобальный обработчик ошибок
- Созданы новые миграции для базы данных

### Фронтенд
- Создан компонент для отображения информации о подписке
- Обновлен виджет подписки с использованием Material UI
- Разработаны утилиты для работы с API
- Создана страница настроек с информацией о подписке

### Миграции
- 004_add_subscription_reset_date.sql: добавляет поле reset_at в таблицу user_usage_stats
- 005_add_payments_table.sql: создаёт таблицу для учёта платежей
- 006_create_missing_tables.py: универсальный скрипт для создания отсутствующих таблиц

## Требования

- Python 3.8+
- Node.js 14+
- Supabase аккаунт

## Установка и запуск

### Бэкенд
```
cd backend
pip install -r requirements.txt
python main.py
```

### Фронтенд
```
cd frontend
npm install
npm start
```

## Переменные окружения

Создайте файл `.env` в корне проекта со следующими переменными:

```
SUPABASE_URL=ваш_url
SUPABASE_KEY=ваш_ключ
TELEGRAM_BOT_TOKEN=ваш_токен
OPENAI_API_KEY=ваш_ключ
``` 