Техническое задание для Telegram Mini App «Smart Content Assistant»
Версия 1.1
Цель: Создать мини-приложение для анализа контента Telegram-каналов, генерации контент-планов и постов (с учетом стиля канала) с использованием API и монетизацией через Telegram Stars.

1. Обзор проекта
1.1. Целевая аудитория
Владельцы Telegram-каналов (от 1K подписчиков).

SMM-специалисты и маркетологи.

Малый бизнес, продвигающий товары через Telegram.

1.2. Уникальное предложение
Аналитика (включая стиль/формат) + генерация в одном интерфейсе.

Использование гибких LLM через OpenRouter (например, DeepSeek, ChatGPT) для качественной генерации.

Монетизация через Telegram Stars (встроенная платежная система).

2. Функциональные требования
2.1. Основные модули
Модуль 1: Анализ контента
Функции:

Автоматический сбор последних 20 постов канала (через Telegram API).

Анализ тем/ключевых слов и определение типовых форматов/стилей постов канала (через LLM - OpenRouter).

Определение лучшего времени публикаций (на основе данных активности канала) - Отложено*.

Визуализация данных: графики частотности тем и вовлеченности - Отложено*.

Модуль 2: Генерация контент-плана
Функции:

Комплексная генерация расписания публикаций на 7/14/30 дней на основе результатов анализа (темы, стили) с помощью LLM (OpenRouter).

Представление плана в виде списка и/или календаря.

Возможность редактирования сгенерированного плана.

Модуль 3: Создание постов
Функции:

Генерация текста поста на основе выбранной темы/идеи из плана и определенного формата/стиля канала с помощью LLM (OpenRouter).

Возможность предоставления примеров из истории канала для лучшей адаптации стиля.

Базовая библиотека изображений (бесплатные фото из Unsplash API).

Черновики с возможностью редактирования.

Модуль 4: Монетизация
Бесплатная версия:

Ограниченное количество генераций плана/постов в месяц (например, 1 план и 3 поста).

Ограниченный анализ (например, меньше постов для анализа, топ-5 ключевых слов).

Платная подписка (Цена TBD - ориентир 299-399 Stars/мес):

Неограниченная генерация планов и постов.

Полный анализ.

Расширенные возможности (например, экспорт плана в CSV, больше опций генерации).

Приоритетная поддержка.

3. Технические требования
3.1. Стек технологий
Frontend:

React.js + TypeScript (для интеграции с Telegram Web Apps SDK).

Библиотеки: react-chartjs-2 (для графиков - Отложено), axios, react-calendar.

Backend:

Python + FastAPI.

База данных: Supabase.

API:

Telegram API (через Telethon) для доступа к данным канала.

OpenRouter API (для доступа к LLM: DeepSeek, ChatGPT и др.).

Unsplash API.

3.2. Интеграция платежей
Telegram Stars:

Пользователь покупает Stars через Telegram → конвертация в подписку.

Используется метод Telegram.WebApp.sendData() для обработки платежей.

Пример кода:

javascript
Copy
Telegram.WebApp.sendData(JSON.stringify({
  type: "subscribe",
  tier: "premium_monthly"
}));
Лимиты:

Бесплатная версия: 3 поста/мес (хранятся в локальном хранилище).

Платная: данные сохраняются в Supabase.

4. Этапы разработки
Этап 1: MVP (Завершен частично)
Frontend: Главный экран, форма ввода, базовая навигация.
Backend: Подключение Telegram API, базовый анализ слов, интеграция OpenRouter/DeepSeek для идей.

Этап 2: Комплексное планирование и улучшенный анализ (Текущий)
Backend: Улучшить анализ (/analyze) для определения тем и стилей. Создать эндпоинт (/generate-plan) для комплексной генерации плана через LLM.
Frontend: Обновить интерфейс "План" для запроса и отображения комплексного плана и визуализации на календаре.

Этап 3: Генерация постов и визуал
Backend: Создать эндпоинт для генерации текста поста с учетом темы и стиля. Интегрировать Unsplash API.
Frontend: Реализовать интерфейс "Пост" для выбора пункта плана, генерации/редактирования текста, добавления изображения.

Этап 4: Монетизация и Оптимизация
Backend: Логика подписок (Supabase), ограничения.
Frontend: Интерфейс настроек, оплата.
Backend/Frontend: Оптимизация запросов, кэширование.

5. Бюджетные API и экономия
API	Стоимость	Лимиты
Telegram API (Telethon)	Бесплатно	(Лимиты Telegram)
Supabase	Бесплатно	500MB хранилища
Unsplash	Бесплатно (с атрибуцией)	50 фото/час
OpenRouter (DeepSeek)	Условно-бесплатно / Дешево	(Лимиты OpenRouter/DeepSeek)
OpenRouter (ChatGPT 3.5)	~ $0.02-0.1 / мес / активного пользователя*	(Зависит от использования)

*Грубая оценка, сильно зависит от соотношения платных/бесплатных и частоты использования.

6. Причины приобрести подписку
Экономия времени: Автоматизация анализа и планирования.
Качественный контент: Генерация постов в стиле вашего канала.
Аналитика: Понимание тем и форматов, работающих в вашей нише.
Неограниченные возможности: Без лимитов на анализ и генерацию.

7. Маркетинговая стратегия
Freemium-модель:

Бесплатные пользователи → реферальные ссылки за Stars.

Партнерская программа: 20% с каждой подписки привлеченного пользователя.

Вирусный механик:

Кнопка "Поделиться" в готовом посте → +1 бесплатный пост за каждого друга. 